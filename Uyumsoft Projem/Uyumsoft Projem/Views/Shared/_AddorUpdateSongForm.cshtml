@model Uyumsoft_Projem.ViewModels.SongFormModel

<form asp-controller="Song"
      asp-action="@(Model.SongId.HasValue ? "UpdateSong" : "AddSong")"
      method="post"
      enctype="multipart/form-data">
    @if (Model.SongId.HasValue)
    {
        <input type="hidden" name="songId" value="@Model.SongId" />
    }
    <input type="hidden" name="userID"
           value="@User.FindFirst(System.Security.Claims.ClaimTypes.NameIdentifier)?.Value" />

    <div class="mb-3">
        <label>Artist (birden fazla için virgülle ayırın)</label>
        <input asp-for="Artist"
               id="songArtistInput"
               class="form-control"
               placeholder="örnek: singer1,singer2,singer3" />
        <small id="artistError" class="text-danger d-none">
            Virgül ile ayırabilirsiniz; kullanıcı adında boşluk veya ekstra virgül olamaz.
        </small>
    </div>
    <div class="mb-3">
        <label>Title</label>
        <input asp-for="Title" class="form-control" />
    </div>
    <div class="mb-3">
        <label>Genre</label>
        <input asp-for="Genre" class="form-control" />
    </div>
    <div class="mb-3">
        <label>Price</label>
        <input asp-for="Price" type="number" class="form-control" />
    </div>
    <div class="mb-3">
        <label>Image File</label>
        <input asp-for="UploadImage" type="file" class="form-control" />
    </div>
        <div class="mb-3">
            <label>Song File</label>
            @if(Model.SongId.HasValue){
                <p>If you change the song,click times will be zero. Click Times does affect your gain from subcscription payment.</p>
            }
            <input asp-for="UploadSong" type="file" class="form-control" />
        </div>      

    <p class="form-error text-danger"></p>
    <button type="submit" class="btn btn-primary w-100">
        @(Model.SongId.HasValue ? "Update Song" : "Add Song")
    </button>
</form>
